def numero1 = 1000
def numero2 = 3000
def suma = numero1 + numero2
def resta = numero1 - numero2
def multiplica = numero1 * numero2
def divide = numero1 / numero2
def fichero = "Informo por fichero los valores, suma: " + suma + " , resta: " + resta + " , multiplicacion:" + multiplica + " y la division es: " + divide
pipeline
{
    agent any
    options
    {
        timeout(time:5, unit: 'MINUTES')
    }
    environment
    {
        RUTA_ABSOLUTA = "C:\\"
    }
    stages
    {
        stage("Operaciones Aritmétricas")
        {
            steps
            {
                script
                {
                   println "El número 1 es igual a: " + numero1
                   println "El número 2 es igual a: " + numero2
                   println "La suma de los dos números es: " + suma
                   println "La resta de los dos números es: " + resta
                   println "La multiplicación de los dos números es: " + multiplica
                   println "La división de los dos números es: " + divide                  
                }
            }
        }
        stage("Comando Bat")
        {
            steps
            {
                bat "ipconfig /flushdns"
            }
        }
        stage("Generar archivo TXT")
        {
            steps
            {
                script
                {
                    writeFile(file: "Calculos_Stage1.txt", text: fichero)
                    println "Se generó el fichero con la info del stage1"
                }
            }
        }                  
    }
    post
    {
        always
        {
            echo "El pipeline se ejecutó. "
        }
        failure
        {
            echo 'El pipeline falló'
        }
        unstable
        {
            echo "El pipeline no se ejecutó de forma estable."
        }
        success
        {
            echo "El pipeline fue exitoso"        
        }
    }
}
